{"version":3,"sources":["../../src/pages/bp-group/bp-group.module.ts","../../src/pipes/sanitize-html/sanitize-html.module.ts","../../src/pipes/sanitize-html/sanitize-html.ts","../../src/pages/bp-group/bp-group.ts"],"names":[],"mappings":"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","file":"8.js","sourcesContent":["import { NgModule } from '@angular/core';\nimport { IonicPageModule } from 'ionic-angular';\nimport { TranslateModule } from '@ngx-translate/core';\nimport { BpGroupPage } from './bp-group';\nimport { SanitizeHtmlModule } from '../../pipes/sanitize-html/sanitize-html.module';\n\n@NgModule({\n  declarations: [\n    BpGroupPage,\n  ],\n  imports: [\n    IonicPageModule.forChild(BpGroupPage),\n    TranslateModule.forChild(),\n    SanitizeHtmlModule\n  ],\n  exports: [\n    BpGroupPage\n  ]\n})\nexport class BpGroupPageModule {}\n\n\n\n// WEBPACK FOOTER //\n// ./src/pages/bp-group/bp-group.module.ts","import { NgModule } from '@angular/core';\nimport { SanitizeHtml } from './sanitize-html';\n\n@NgModule({\n  declarations: [SanitizeHtml],\n  exports: [SanitizeHtml]\n})\nexport class SanitizeHtmlModule { }\n\n\n// WEBPACK FOOTER //\n// ./src/pipes/sanitize-html/sanitize-html.module.ts","import { Pipe, PipeTransform } from '@angular/core';\nimport {DomSanitizer, SafeHtml} from '@angular/platform-browser';\n\n@Pipe({\n    name: 'sanitizeHtml'\n})\nexport class SanitizeHtml implements PipeTransform  {\n\n   constructor(public _sanitizer: DomSanitizer){}  \n\n   transform(v: string) : SafeHtml {\n      return this._sanitizer.bypassSecurityTrustHtml(v); \n   } \n} \n\n\n// WEBPACK FOOTER //\n// ./src/pipes/sanitize-html/sanitize-html.ts","import {NavController, NavParams, LoadingController, Platform, ViewController, IonicPage, Events, ToastController, ModalController} from 'ionic-angular';\nimport {Component} from '@angular/core';\nimport {TranslateService} from '@ngx-translate/core';\nimport {BpProvider} from '../../providers/buddypress/bp-provider';\nimport {Storage} from '@ionic/storage';\n\n@IonicPage()\n@Component({\n  templateUrl: 'bp-group.html',\n  selector: 'bp-group'\n})\nexport class BpGroupPage {\n\n  content: any;\n  rtlBack: boolean = false;\n  groupId: any;\n  groupData: any;\n  login_data: any;\n  spinner: any;\n  join_pending: boolean = false;\n\n  constructor(\n    public nav: NavController, \n    public navParams: NavParams,\n    public viewCtrl: ViewController,\n    public platform: Platform,\n    public events: Events,\n    public bpProvider: BpProvider,\n    public toastCtrl: ToastController,\n    public loadingCtrl: LoadingController,\n    public modalCtrl: ModalController,\n    public storage: Storage,\n    public translate: TranslateService\n    ) {\n\n    // set login data after modal login\n    events.subscribe('user:login', data => {\n      this.login_data = data\n    });\n\n    if( this.navParams ) {\n      this.groupId = this.navParams.get('group_id');\n    }\n\n    if( !this.groupId )\n      return;\n\n    this.storage.get('user_login').then( data => {\n\n      if( data ) {\n        this.login_data = data\n      }\n\n      this.setupGroup()\n\n    });    \n\n  }\n\n  ionViewWillEnter() {\n\n    if( this.platform.isRTL && this.viewCtrl.enableBack() ) {\n        this.viewCtrl.showBackButton(false)\n        this.rtlBack = true\n    } \n\n  }\n\n  onIonSelected() {\n    console.log('onIonSelected BpGroupPage');\n  }\n\n  setupGroup() {\n\n    this.bpProvider.getItem( 'groups/' + this.groupId, this.login_data ).then( data => {\n      console.log(data)\n      this.groupData = data\n    }).catch( e => {\n      console.warn(e)\n    })\n\n  }\n\n  groupActivity() {\n\n    this.nav.push('BpList', {\n      list_route: 'activity',\n      title: this.groupData.name,\n      group_id: this.groupId,\n      group_link: this.groupData.link\n    });\n\n  }\n\n  joinGroup() {\n\n    if( !this.login_data || !this.login_data.user_id ) {\n      this.presentToast('Please log in.')\n      return;\n    }\n\n    this.bpProvider.joinGroup( this.groupData, this.login_data ).then( data => {\n\n      if( data && !(<any>data).status ) {\n        // deprecated, here for backwards compat\n        this.presentToast('Joined group!')\n        this.groupData.is_user_member = true\n      }\n\n      if( !(<any>data).status ) \n        return;\n\n      this.presentToast( (<any>data).message ); \n\n      if( (<any>data).status === 'joined_group' ) {\n        this.groupData.is_user_member = true\n      } else if( (<any>data).status === 'pending' ) {\n        this.join_pending = true;\n      }\n\n    }).catch( e => {\n      let msg = ''\n      if( e.message ) {\n        msg = e.message;\n      }\n      this.presentToast('Could not join group. ' + msg )\n      console.warn(e)\n    })\n\n  }\n\n  iabLink(link) {\n    window.open( link, '_blank' );\n  }\n\n  openLoginModal() {\n\n    const loginModal = this.modalCtrl.create('LoginModal' );\n    loginModal.present();\n\n  }\n\n  presentToast(msg) {\n\n    this.translate.get(msg).subscribe( translation => {\n\n      let toast = this.toastCtrl.create({\n        message: msg,\n        duration: 3000,\n        position: 'bottom'\n      });\n\n      toast.present();\n\n    })\n\n  }\n\n  showSpinner() {\n    this.spinner = this.loadingCtrl.create();\n\n    this.spinner.present();\n  }\n\n  hideSpinner() {\n    this.spinner.dismiss();\n  }\n\n  // changes the back button transition direction if app is RTL\n  backRtlTransition() {\n    let obj = {}\n\n    if( this.platform.is('ios') )\n      obj = {direction: 'forward'}\n    \n    this.nav.pop( obj )\n  }\n\n}\n\n\n// WEBPACK FOOTER //\n// ./src/pages/bp-group/bp-group.ts"],"sourceRoot":""}