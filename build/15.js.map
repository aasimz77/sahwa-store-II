{"version":3,"sources":["../../src/pages/login-modal/login-modal.module.ts","../../src/pages/login-modal/login-modal.ts"],"names":[],"mappings":"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","file":"15.js","sourcesContent":["import { NgModule } from '@angular/core';\nimport { IonicPageModule } from 'ionic-angular';\nimport { TranslateModule } from '@ngx-translate/core';\nimport { LoginModal } from './login-modal';\n\n@NgModule({\n  declarations: [\n    LoginModal,\n  ],\n  imports: [\n    IonicPageModule.forChild(LoginModal),\n    TranslateModule.forChild()\n  ],\n  exports: [\n    LoginModal\n  ]\n})\nexport class LoginModalModule {}\n\n\n\n// WEBPACK FOOTER //\n// ./src/pages/login-modal/login-modal.module.ts","import { Component } from '@angular/core';\nimport { Events, ViewController, LoadingController, IonicPage, ToastController, NavParams, Platform } from 'ionic-angular';\nimport {DomSanitizer} from '@angular/platform-browser';\nimport {WPlogin} from '../../providers/wplogin/wplogin';\nimport {Logins} from \"../../providers/logins/logins\";\nimport {FbConnectApp} from '../../providers/facebook/login-app';\nimport {FbConnectIframe} from '../../providers/facebook/login-iframe';\nimport {FBConnectAppSettings} from '../../providers/facebook/fbconnect-settings';\nimport {Storage} from '@ionic/storage';\nimport {Device} from '@ionic-native/device';\nimport {TranslateService} from '@ngx-translate/core';\nimport { LoginService } from '../../providers/logins/login.service';\nimport {BpProvider} from '../../providers/buddypress/bp-provider';\nimport { MyApppSettingsService } from '../../providers/appdata/myappp.settings.service';\n\n@IonicPage()\n@Component({\n  selector: 'page-login-modal',\n  templateUrl: 'login-modal.html'\n})\nexport class LoginModal {\n\n\tlogin:any = {}\n\tuser_data: any = {}\n\tpw_reset: any = {}\n\tlogin_data: any\n\tspinner: any\n\tforce_login: any = false;\n\tis_preview: boolean = false;\n\tfb_login: boolean = false;\n\tfb_login_data: any\n\tapi_register_setting: any;\n\tshow_verification_field: boolean = false;\n\ttitle: string = '';\n\tshow_registration: boolean = false;\n\tshow_pw_reset: boolean = false;\n\tshow_reset_code: boolean = false;\n\tiframeUrl: any;\n\tcustomClasses: string;\n\tiphoneX: boolean = false;\n\n\tconstructor(\n\t\tpublic navParams: NavParams,\n\t\tpublic viewCtrl: ViewController,\n\t\tpublic loadingCtrl: LoadingController,\n\t\tpublic wplogin: WPlogin,\n\t\tpublic myapppsettings: MyApppSettingsService,\n\t\tprivate logins: Logins,\n\t\tpublic events: Events,\n\t\tpublic storage: Storage,\n\t\tpublic translate: TranslateService,\n\t\tprivate fbconnectApp: FbConnectApp,\n\t\tprivate fbconnectvars: FBConnectAppSettings,\n\t\tprivate toastCtrl: ToastController,\n\t\tprivate loginservice: LoginService,\n\t\tprivate Device: Device,\n\t\tprivate bpProvider: BpProvider,\n\t\tprivate platform: Platform,\n\t\tprivate sanitizer: DomSanitizer\n\t\t) {\n      \n\t\tif(this.navParams.get('title')) {\n\t\t\tthis.title = this.navParams.get('title');\n\t\t} else {\n\t\t\tthis.title = 'Login';\n\t\t}\n\n\t\t// login through postmessage sets login_data this way\n\t\tevents.subscribe('modal:logindata', data => {\n\t      this.setLoginData(data);\n\t\t});\n\t\t\n\t\tplatform.resume.subscribe ( (e) => {\n\t\t\tthis.getScreen()\n\t\t});\n\n\t\t// get login data on first load\n\t\tthis.storage.get('user_login').then( data => {\n\n\t\t\tif(data) {\n\t\t\t  this.login_data = data\n\t\t\t}\n\n\t\t});\n\n\t\tthis.storage.get('force_login').then( data => {\n\t\t\tif(data) {\n\t\t\t\tthis.force_login = true;\n\t\t\t}\n\t\t})\n\n\t\tthis.storage.get('api_register_setting').then( data => {\n\n\t\t\tif( data ) {\n\t\t\t\tthis.api_register_setting = data\n\t\t\t}\n\n\t\t})\n\n\t\tthis.checkUnverified();\n\n\t\tthis.initFBLogin();\n\n\t\tthis.is_preview = this.myapppsettings.isPreview();\n\n\t\tthis.doIphoneX()\n\n\t\t// we can log a user in by sending their user/pass in nav params to this page\n\t\tif( this.navParams.get('login_data') ) {\n\n\t\t\tthis.login = this.navParams.get('login_data')\n\t\t\tthis.doLogin()\n\t\t\t\n\t\t}\n\n\t}\n\n\tionViewWillEnter() {\n\n\t\t// save the screen we were on last\n\t\tthis.getScreen()\n\n\t}\n\n\t// if we are in the middle of a pw reset or registration, show correct fields\n\tgetScreen() {\n\n\t\tthis.storage.get( 'login_screen' ).then( screen => {\n\n\t\t\tif( screen === 'show_verification_field' ) {\n\n\t\t\t\tthis.show_verification_field = true;\n\t\t\t\tthis.show_registration = true;\n\t\t\t\tthis.checkUnverified()\n\n\t\t\t} else if( screen === 'show_reset_code' ) {\n\t\t\t\tthis.show_pw_reset = true\n\t\t\t\tthis.show_reset_code = true\n\t\t\t\tthis.show_registration = false\n\t\t\t}\n\n\t\t})\n\n\t}\n\n\tcheckUnverified() {\n\n\t\tthis.storage.get( 'unverified_user' ).then( data => {\n\n\t\t\tif( data ){\n\t\t\t\tthis.show_verification_field = true;\n\t\t\t\tthis.show_registration = true;\n\t\t\t\tthis.user_data = data\n\t\t\t}\n\n\t\t})\n\n\t}\n\n\t/**\n\t * The FB login button will only display after settings are received\n\t * \n\t * fb_login: true|false to show the button\n\t */\n\tinitFBLogin() {\n\t\tthis.fb_login = (this.fbconnectvars.get_nonce()) ? true : false;\n\n\t\tif(this.fb_login === false) {\n\t\t\tsetTimeout(()=>{\n\n\t\t\t\tthis.fb_login = (this.fbconnectvars.get_nonce()) ? true : false;\n\n\t\t\t\tif(this.fb_login === false) {\n\t\t\t\t\tsetTimeout(()=>{\n\t\t\n\t\t\t\t\t\tthis.fb_login = (this.fbconnectvars.get_nonce()) ? true : false;\n\t\t\t\t\t}, 5000); // iOS seems to take longer\n\t\t\t\t}\n\t\t\t}, 3000); // Slow on first app load\n\t\t}\n\t}\n\n\tdoLogin() {\n\n\t\tthis.translate.get('Please enter a valid login.').subscribe( text => {\n\t\t\tif( !this.login )\n\t\t\t\tthis.presentToast(text);\n\t\t})\n\n\t\tthis.showSpinner()\n\n\t\t// safety just in case\n\t\tsetTimeout( () => {\n\t\t\tif( this.spinner )\n\t\t\t\tthis.hideSpinner()\n\t\t}, 15000 );\n\n\t\tthis.wplogin.login( this.login ).then( response => {\n\n\t\t\tif( !response || (<any>response).success === false ) {\n\t\t\t\tthis.loginErr( response )\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\tlet login_data = (<any>response);\n\t\t\tif(login_data && login_data.avatar)\n\t\t\t\tlogin_data.avatar = this.logins.fixProtocolRelativeUrl(login_data.avatar);\n\n\t\t\tthis.loginSuccess( login_data )\n\t\t\tthis.hideSpinner()\n\n\t\t}, (err) => {\n\n\t\t\tthis.loginErr(err)\n\n\t\t}).catch( e => {\n\t\t\tconsole.warn(e)\n\t\t\tthis.hideSpinner()\n\t\t\tthis.translate.get('There was a problem connecting to the server.').subscribe( text => {\n\t\t\t\tthis.presentToast(text);\n\t\t\t});\n\t\t})\n\t}\n\n\tloginSuccess( login_data ) {\n\n\t\tthis.storage.set( 'user_login', login_data )\n\t\tthis.events.publish('user:login', login_data )\n\t\tthis.login_data = login_data\n\n\t\tthis.maybeSetCookie( login_data )\n\n\t\t// clean up\n\t\tthis.resetRegistration()\n\n\t}\n\n\tmaybeSetCookie( login_data, logout = false ) {\n\n\t\t// only do this in the browser\n\t\tif( this.platform.is('ios') || this.platform.is('android') ) {\n\t\t\tthis.dismiss()\n\t\t\treturn;\n\t\t}\n\n\t\tconsole.log('Setting cookie via iframe because we are in the browser.')\n\n        let myappp = JSON.parse( window.localStorage.getItem( 'myappp' ) );\n        let url = myappp.wordpress_url;\n\n        // maybe add token to set cookie. This fixes an issue where auth cookie was not set because of API login\n        if( logout ) {\n        \turl = url + '?appp=3&wp_logout=true'\n            this.storage.remove( 'wp_logout' );\n        } else if( login_data && login_data.cookie_auth && login_data.cookie_auth != '' ) {\n            url = url + '?appp=3&cookie_auth=' + login_data.cookie_auth\n            login_data.cookie_auth = '';\n            this.storage.set( 'user_login', login_data );\n        }\n\n        this.iframeUrl = this.sanitizer.bypassSecurityTrustResourceUrl( url );\n\n        console.log('iframe url ' + url )\n\n\t}\n\n\tloginErr( err ) {\n\n\t\tconsole.log(err)\n\n\t\tthis.hideSpinner()\n\n\t\tthis.translate.get('There was a problem, please try again.').subscribe( text => {\n\t\t\tlet msg = text;\n\n\t\t\tif( err.data && err.data.message )\n\t\t\t\tmsg += ' ' + err.data.message\n\n\t\t\tthis.presentToast(msg);\n\t\t});\n\n\t}\n\n\tshowResetPassword() {\n\t\t\n\t\tthis.show_pw_reset = true\n\t\tthis.show_registration = false\n\n\t}\n\n\tdoResetPassword() {\n\n\t\tconsole.log(this.pw_reset)\n\n    if (!this.show_reset_code && !this.pw_reset.email) {\n      this.presentToast(\"Please fill out your email.\")\n      return;\n    } else if (this.show_reset_code && (!this.pw_reset.code || !this.pw_reset.password)) {\n      this.presentToast(\"Please fill out required fields.\")\n      return;\n    }\n\n\t\tthis.showSpinner()\n\n\t\tthis.wplogin.resetPassword( this.pw_reset ).then( data => {\n\n\t\t\tconsole.log(data)\n\n\t\t\t// sent reset code, show the code field\n\t\t\tif( (<any>data).got_code ) {\n\t\t\t\tthis.show_reset_code = true;\n\t\t\t\tthis.storage.set( 'login_screen', 'show_reset_code' )\n\t\t\t}\n\n\t\t\t// password has been changed, need user to login\n\t\t\tif( (<any>data).pw_changed ) {\n\n\t\t\t\tif( this.pw_reset.email ) \n\t\t\t\t\tthis.login.user = this.pw_reset.email\n\n\t\t\t\tsetTimeout( () => {\n\t\t\t\t\tthis.show_pw_reset = false\n\t\t\t\t\tthis.storage.remove( 'login_screen' )\n\t\t\t\t}, 800)\n\t\t\t}\n\t\t\t\n\t\t\tthis.presentToast( (<any>data).message )\n\t\t\tthis.hideSpinner()\n\n\t\t}).catch( e => {\n\t\t\tthis.handleErr( e )\n\t\t\tthis.hideSpinner()\n\t\t})\n\n\t}\n\n\tdoFBLogin() {\n\n\t\tif( typeof this.Device.platform != 'string' && location.port != '8100') {\n\t\t\t\n\t\t\tthis.translate.get('Please try from a device.').subscribe( text => {\n\t\t\t\tthis.presentToast(text);\n\t\t\t})\n\n\t\t\treturn;\n\t\t}\n\n\t\tthis.events.subscribe('fb:login', data => {\n\t\t\tconsole.log('captured fb login event', data);\n\t\t\tthis.dismiss();\n\t\t\tif(data.redirect_url)\n\t\t\t\tthis.events.publish('user:login_redirect', data.redirect_url);\n\t\t});\n\t\tthis.fbconnectApp.login();\n\t}\n\n\tdoLogout() {\n\n\t\tthis.showSpinner();\n\n\t\tthis.fbconnectvars.loggout();\n\t\tthis.loginservice.removeLoginStatus();\n\n\t\tthis.wplogin.logout().then( response => {\n\n\t\t\tthis.storage.remove( 'user_login' )\n\t\t\tthis.storage.set( 'wp_logout', true );\n\t\t\tthis.maybeSetCookie( null, true )\n\t\t\tthis.events.publish('user:logout', response )\n\t\t\tthis.login_data = null\n\t\t\tthis.hideSpinner()\n\t\t\tthis.dismiss();\n\n\t\t}, (err) => {\n\n\t\t\tthis.storage.remove( 'user_login' )\n\t\t\tthis.storage.set( 'wp_logout', true );\n\t\t\tthis.maybeSetCookie( null, true )\n\t\t\tthis.events.publish('user:logout' )\n\t\t\tthis.login_data = null\n\t\t\tthis.hideSpinner()\n\t\t\tthis.dismiss();\n\n\t\t\tconsole.log(err)\n\n\t\t\tthis.translate.get('You are logged out of the app, but there was a problem on the server.').subscribe( text => {\n\t\t\t\tlet msg = text;\n\n\t\t\t\tif( err.data && err.data.message )\n\t\t\t\t\tmsg += ' ' + err.data.message\n\n\t\t\t\tthis.presentToast(msg);\n\t\t\t})\n\t\t}).catch( e => {\n\t\t\tconsole.warn(e)\n\t\t\tthis.hideSpinner()\n\t\t\tthis.translate.get('There was a problem connecting to the server.').subscribe( text => {\n\t\t\t\tthis.presentToast(text);\n\t\t\t})\n\t\t})\n\n\t}\n\n\tsetLoginData( data ) {\n\t\tthis.login_data = data\n\t}\n\n\tregister( e ) {\n\n\t\tif( this.api_register_setting && this.api_register_setting.url === \"\" ) {\n\t\t\tthis.show_registration = true\n\t\t} else {\n\n\t\t\tlet title = e.target.innerText\n\n\t\t\t// fix dismiss bug when force login is used\n\t\t\tif( this.viewCtrl.name === \"ModalCmp\" ) {\n\t\t\t\tthis.dismiss()\n\t\t\t}\n\n\t\t\t// link to custom registration url\n\t\t\tif( this.api_register_setting.url.indexOf('https') >= 0 ) {\n\n\t\t\t\tthis.events.publish('pushpage', { url: this.api_register_setting.url, title: title, is_register_page: true } )\n\n\t\t\t} else {\n\t\t\t\t// link to app page, for example for in app purchases\n\t\t\t\tthis.events.publish( 'pushpage', { type: 'apppages', slug: this.api_register_setting.url } )\n\t\t\t}\n\n\t\t}\n\n\t}\n\n\tshowVerificationField() {\n\t\tthis.show_verification_field = true;\n\t}\n\n\tdoApiRegistration() {\n\n\t\tconsole.log(this.user_data)\n\n\t\tif( !this.user_data.email || !this.user_data.username || !this.user_data.password ) {\n\t\t\tthis.presentToast(\"Please fill out required fields.\")\n\t\t\treturn;\n\t\t}\n\n\t\tthis.showSpinner()\n\n\t\t// if we are submitting a verification code, verify and login. Otherwise, register as unverified user\n\t\tif( this.user_data.verification ) {\n\t\t\tthis.verify(this.user_data)\n\t\t} else {\n\t\t\tthis.wplogin.register( this.user_data ).then( data => {\n\t\t\t\tconsole.log(data)\n\t\t\t\t\n\t\t\t\tthis.show_verification_field = true;\n\n\t\t\t\tthis.storage.set( 'login_screen', 'show_verification_field' )\n\n\t\t\t\tthis.storage.set( 'unverified_user', this.user_data )\n\n\t\t\t\tthis.presentToast(data)\n\t\t\t\tthis.hideSpinner()\n\n\t\t\t}).catch( e => {\n\t\t\t\tthis.handleErr( e )\n\t\t\t\tthis.hideSpinner()\n\t\t\t})\n\t\t}\n\n\t}\n\n\t// verify user after registration, login if successful\n\tverify( user_data ) {\n\n\t\tthis.wplogin.verifyUser( this.user_data ).then( data => {\n\t\t\tconsole.log(data)\n\t\t\t\n\t\t\tif( (<any>data).success ) {\n\n\t\t\t\tthis.presentToast('Success! You have been registered.')\n\t\t\t\tthis.loginSuccess( data )\n\t\t\t\tthis.show_verification_field = false;\n\t\t\t\tthis.show_registration = false;\n\t\t\t\tthis.storage.remove( 'unverified_user' )\n\t\t\t\tthis.storage.remove( 'login_screen' )\n\n\t\t\t} else if( (<any>data).message ) {\n\n\t\t\t\tthis.presentToast( (<any>data).message )\n\n\t\t\t}\n\t\t\t\n\t\t\tthis.hideSpinner()\n\n\t\t}).catch( e => {\n\n\t\t\tthis.handleErr( e )\n\n\t\t\tthis.hideSpinner()\n\t\t})\n\n\t}\n\n\tresendCode() {\n\n\t\tif( !this.user_data || !this.user_data.email || !this.user_data.username ) {\n\t\t\tthis.presentToast('Please enter your email and username, then try again.')\n\t\t\treturn;\n\t\t}\n\n\t\tthis.showSpinner()\n\n\t\tthis.wplogin.resendCode( this.user_data ).then( data => {\n\t\t\tconsole.log(data)\n\t\t\t\n\t\t\tif( data ) {\n\t\t\t\tthis.presentToast('Verification code resent.')\n\t\t\t} else {\n\t\t\t\tthis.presentToast('Verification code was not sent, please check your server email settings.')\n\t\t\t}\n\n\t\t\tthis.hideSpinner()\n\n\t\t}).catch( e => {\n\t\t\tthis.handleErr( e )\n\t\t\tthis.hideSpinner()\n\t\t})\n\n\t}\n\n\tresetRegistration() {\n\t\tthis.storage.remove( 'unverified_user' ).then( data => {\n\t\t\tthis.show_verification_field = false\n\t\t\tthis.user_data.verification = null\n\t\t})\n\n\t\tthis.storage.remove( 'login_screen' )\n\t}\n\n\tshowLoginForm() {\n\t\tthis.show_registration = false;\n\t\tthis.show_pw_reset = false;\n\t\tthis.show_reset_code = false;\n\t}\n\n\tdismiss() {\n\t\tthis.viewCtrl.dismiss();\n\t}\n\n\tshowSpinner() {\n\t\tthis.spinner = this.loadingCtrl.create();\n\n\t\tthis.spinner.present();\n\t}\n\n\thideSpinner() {\n\t\tthis.spinner.dismiss();\n\t}\n\n\tpresentToast(msg) {\n\n\t\tthis.translate.get(msg).subscribe( translation => {\n\n\t\t  let toast = this.toastCtrl.create({\n\t\t    message: msg,\n\t\t    duration: 3000,\n\t\t    position: 'bottom'\n\t\t  });\n\n\t\t  toast.present();\n\n\t\t})\n\n\t}\n\n\thandleErr( err ) {\n\n\t\tconsole.error('Error with registration', err);\n\t\tlet msg = \"There was a problem, please try again.\";\n\t\tif( err['_body'] && JSON.parse( err['_body'] ).message ) {\n\t\t  msg += ' ' + JSON.parse( err['_body'] ).message;\n\t\t}\n\t\tthis.presentToast( msg );\n\n\t}\n\n\tdoIphoneX() {\n\n\t\t// hack for iphonex status bar\n\t\tif( this.Device && this.Device.model ) {\n\t\t  let model = this.Device.model.toLowerCase();\n\n\t\t  if( model.indexOf('iphone10') >= 0 ) {\n\n\t\t    this.iphoneX = true;\n\n\t\t    if( this.platform.isLandscape() ) {\n\t\t      this.customClasses = 'iphoneX-landscape'\n\t\t    } else {\n\t\t      this.customClasses = 'iphoneX-portrait'\n\t\t    }\n\t\t    \n\t\t  }\n\t\t}\n\n\t}\n\n}\n\n\n// WEBPACK FOOTER //\n// ./src/pages/login-modal/login-modal.ts"],"sourceRoot":""}