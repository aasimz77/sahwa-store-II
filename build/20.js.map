{"version":3,"sources":["../../src/pages/bp-notifications/bp-notifications.module.ts","../../src/pages/bp-notifications/bp-notifications.ts"],"names":[],"mappings":"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","file":"20.js","sourcesContent":["import { NgModule } from '@angular/core';\nimport { IonicPageModule } from 'ionic-angular';\nimport { TranslateModule } from '@ngx-translate/core';\nimport { BpNotifications } from './bp-notifications';\n\n@NgModule({\n  declarations: [\n    BpNotifications,\n  ],\n  imports: [\n    IonicPageModule.forChild(BpNotifications),\n    TranslateModule.forChild()\n  ],\n  exports: [\n    BpNotifications\n  ]\n})\nexport class BpNotificationsModule {}\n\n\n// WEBPACK FOOTER //\n// ./src/pages/bp-notifications/bp-notifications.module.ts","import {NavController, NavParams, LoadingController, ToastController, ModalController, Platform, ViewController, Content, IonicPage} from 'ionic-angular';\nimport {Component, ViewChild, Input} from '@angular/core';\nimport {TranslateService} from '@ngx-translate/core';\nimport {GlobalVars} from '../../providers/globalvars/globalvars';\nimport {HeaderLogo} from '../../providers/header-logo/header-logo';\nimport {Storage} from '@ionic/storage';\nimport {Device} from '@ionic-native/device';\nimport {Network} from '@ionic-native/network';\nimport {BpProvider} from '../../providers/buddypress/bp-provider';\n\n@IonicPage()\n@Component({\n  templateUrl: 'bp-notifications.html',\n  selector: 'bp-notifications'\n})\nexport class BpNotifications {\n\n  @ViewChild(Content) content: Content;\n\n  items: any;\n  route: string;\n  loading: any;\n  siteurl: string;\n  title: string;\n  rtlBack: boolean = false;\n  networkState: any;\n  header_logo_url: string;\n  show_header_logo: boolean = false;\n  customClasses: string = '';\n  login_data: any;\n  notificationSegments: any[];\n  segment: any;\n  segmentArgs: string;\n  isRequests: boolean = false;\n\n  constructor(\n    public nav: NavController, \n    public navParams: NavParams,\n    public globalvars: GlobalVars, \n    public loadingController: LoadingController, \n    public storage: Storage, \n    public toastCtrl: ToastController,\n    public viewCtrl: ViewController,\n    public platform: Platform,\n    private headerLogoService: HeaderLogo,\n    private Network: Network,\n    private Device: Device,\n    public modalCtrl: ModalController,\n    public bpProvider: BpProvider,\n    public translate: TranslateService\n  ) {\n\n    let item = window.localStorage.getItem( 'myappp' );\n\n    this.route = JSON.parse( item ).wordpress_url + 'wp-json/ap-bp/v1/notifications';\n\n    if( this.navParams.get('requests') ) {\n\n      this.isRequests = true\n      this.route = JSON.parse( item ).wordpress_url + 'wp-json/ap-bp/v1/friends/requests';\n      this.translate.get('Requests').subscribe( text => {\n        this.title = text;\n      });\n    } else {\n      this.translate.get('Notifications').subscribe( text => {\n        this.title = text;\n      });\n    }\n\n    // this.setupSegments();\n\n    if(navParams.data.is_home == true) {\n      this.doLogo()\n    }\n\n    // get login data on first load\n    this.storage.get('user_login').then( data => {\n\n      if( data && data.user_id ) {\n        this.login_data = data\n        this.getItems()\n      } else {\n        this.presentToast('Please log in.')\n        this.nav.pop()\n      }\n\n    });\n    \n  }\n\n  ionViewWillEnter() {\n\n    if( this.platform.isRTL && this.viewCtrl.enableBack() ) {\n        this.viewCtrl.showBackButton(false)\n        this.rtlBack = true\n    }\n \n  }\n\n  // setupSegments() {\n\n  //   this.notificationSegments = [ { name: 'Friends', value: 'friends' },{ name: 'Requests', value: 'requests' } ];\n\n  //   // fixes iphoneX status bar padding\n  //   this.customClasses += ' has-favorites';\n\n  // }\n\n  // segmentChanged() {\n\n  //   switch(this.segment) {\n  //     case 'Friends':\n  //       this.items = []\n  //       this.isRequests = false;\n  //       this.segmentArgs = '?user=' + this.login_data.user_id\n  //       this.getItems( this.route )\n  //       break;\n  //     case 'Requests':\n  //       this.items = []\n  //       this.isRequests = true;\n  //       this.segmentArgs = '/requests';\n  //       this.getItems( this.route )\n  //   }\n    \n  // }\n\n  getItems() {\n\n    this.loading = this.loadingController.create({\n        showBackdrop: false,\n        //dismissOnPageChange: true\n    });\n\n    this.loading.present(this.loading);\n\n    if( this.isRequests ) {\n      this.getRequests()\n    } else {\n      this.getNotifications()\n    }\n\n  }\n\n  getRequests() {\n\n    this.bpProvider.getItems( this.route, this.login_data, 1 ).then(items => {\n\n      // Loads posts from WordPress API\n      this.items = items;\n\n      // this.storage.set( this.route.substr(-10, 10) + '_bp', items);\n\n      this.loading.dismiss();\n    }).catch((err) => {\n\n      this.loading.dismiss();\n      this.handleErr(err)\n\n    });\n\n  }\n\n  getNotifications() {\n\n    // any menu imported from WP has to use same component. Other pages can be added manually with different components\n    this.bpProvider.getNotifications( this.login_data ).then(items => {\n\n      // Loads posts from WordPress API\n      this.items = items;\n\n      this.loading.dismiss();\n    }).catch((err) => {\n\n      this.loading.dismiss();\n      this.handleErr(err)\n\n    });\n\n  }\n\n  clearNotification( notification ) {\n\n    this.bpProvider.clearNotification( notification, this.login_data ).then(data => {\n\n      this.removeFromList( notification )\n\n    }).catch((err) => {\n\n      this.handleErr(err)\n\n    });\n\n  }\n\n  removeFromList( notification ) {\n\n    for (let i = this.items.length - 1; i >= 0; i--) {\n      if( this.items[i].id === notification.id ) {\n        this.items.splice(i, 1);\n        break;\n      }\n    }\n\n    // refresh the list\n    if( this.items.length ) {\n      this.items = this.items;\n    }\n\n  }\n\n  doRefresh(refresh) {\n\n    this.getItems();\n\n    // refresh.complete should happen when posts are loaded, not timeout\n    setTimeout( ()=> refresh.complete(), 500);\n  }\n\n  /**\n   * Accepts or Withdraws a friend request\n   * @param {*} friend\n   * @param {string} withdraw\n   */\n  public acceptOrWithdrawFriendship(friend: any, withdraw: string): void {\n    var friend = friend;\n    console.log(friend);\n\n    this.bpProvider.acceptOrWithdrawFriendship(friend.id, this.login_data, withdraw)\n      .then(response => {\n        let message: string = response.json();\n\n        for (let i = this.items.length - 1; i >= 0; i--) {\n          if (this.items[i].id === friend.id) {\n            console.log(this.items[i])\n            this.items.splice(i, 1);\n            break;\n          }\n        }\n\n        this.presentToast(message);\n      })\n      .catch(error => {\n        this.presentToast('There was a problem.');\n        console.warn(error);\n      });\n  }\n\n  viewNotification( notification ) {\n\n    switch(notification.component) {\n      case 'friends':\n        this.showFriendRequests()\n        break;\n      case 'messages':\n        this.nav.push( 'BpMessages' )\n        break;\n      case 'activity':\n        this.nav.push( 'BpList', { list_route: 'activity'} )\n        break;\n      default:\n        this.nav.push('PostDetailsPage', { \n          item: { \n            \"content\": { \"rendered\":  notification.content },\n            \"title\":  { \"rendered\":  \"Notification\" }\n          } \n        } )\n    }\n  }\n\n  showFriendRequests() {\n\n    this.nav.push('BpNotifications', {\n      requests: true\n    });\n\n  }\n\n  viewMember( member ) {\n\n    this.nav.push('BpProfilePage', {\n      user_id: member.id,\n      login_data: this.login_data\n    });\n\n  }\n\n  /**\n   * Shows a translated message to the toast, if exists\n   * @param {string} message\n   */\n  public presentToast(message: string): void {\n    if(message) {\n      let toast = this.toastCtrl.create({\n        message:  this.translate.instant(message),\n        duration: 3000,\n        position: 'bottom'\n      });\n\n      toast.present();\n    }\n  }\n\n  iabLink(link) {\n  \twindow.open( link, '_blank' );\n  }\n\n  // changes the back button transition direction if app is RTL\n  backRtlTransition() {\n    let obj = {}\n\n    if( this.platform.is('ios') )\n      obj = {direction: 'forward'}\n    \n    this.nav.pop( obj )\n  }\n\n  doLogo() {\n    // check if logo file exists. If so, show it\n    this.headerLogoService.checkLogo().then( data => {\n      this.show_header_logo = true\n      this.header_logo_url = (<string>data)\n    }).catch( e => {\n      // no logo, do nothing\n      //console.log(e)\n    })\n  }\n\n  // make sure user is logged in\n  loginCheck() {\n\n    if( !this.login_data || !this.login_data.user_id ) {\n      this.presentToast('Please log in.')\n      return false;\n    }\n\n    return true;\n      \n  }\n\n  handleErr( err ) {\n\n    console.error('Error getting posts', err);\n    this.translate.get('Cannot show items.').subscribe( text => {\n      let msg = text;\n      if( err && err.status == 404 ) { \n        // notifications are disabled in BuddyPress settings\n        msg += ' Notifications are not enabled.';\n      } else if( err['_body'] && JSON.parse( err['_body'] ).message ) {\n        msg += ' ' + JSON.parse( err['_body'] ).message;\n      }\n      this.presentToast( msg );\n    });\n\n  }\n\n  // maybe add https to avatar url\n  formatUrl( url ) {\n\n    if( !url )\n      return;\n\n    if( url.indexOf('http') >= 0 ) {\n      return url;\n    } else {\n      return 'https:' + url;\n    }\n\n  }\n\n}\n\n\n// WEBPACK FOOTER //\n// ./src/pages/bp-notifications/bp-notifications.ts"],"sourceRoot":""}